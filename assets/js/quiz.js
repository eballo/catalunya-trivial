window.onload=function(){function e(e){var n=questions[e].question,t=questions[e].image,i=Object.keys(questions).length;c.innerHTML="",c.innerHTML=n,""!=t?(o.innerHTML="",o.innerHTML='<img src="'+t+'" height="200" width="200" >'):o.innerHTML="",d.innerHTML=e+1+" / "+i}function n(t){var i=questions[t].choices;u.innerHTML="";for(var m=0;m<i.length;m+=1){var d=document.createElement("div"),v=document.createTextNode(i[m]);d.appendChild(v),d.addEventListener("click",function(t,i){0!=s&&r("click");return function(){var i=t+1,m=questions[s].correct;if(f[s]=i===m?1:0,s<Object.keys(questions).length-1){var d='{ "curr" : '+(s+=1)+', "arr" : ['+f+"] }";Cookies.set("trivial",d),e(s),n(s),a(s)}else c.innerHTML="Final",l.innerHTML="",o.innerHTML="",u.innerHTML="",a(s),function(){for(var e=0,n=0;n<f.length;n+=1)e+=f[n];r("magic"),function(e){var n=Math.round(e/100),t=1,i=document.createElement("div");i.className+="score-text",l.appendChild(i),i.innerHTML="PuntuaciÃ³:",u.className+=" score";var a=setInterval(function(){if(t<100)u.innerHTML=n*t,t++;else if(parseInt(u.textContent)<e){var i=parseInt(u.textContent)+1;u.innerHTML=i}else clearInterval(a)},24)}(100*e),0==e?r("fart"):e<5?r("scream"):e>5&&r("applause")}(),Cookies.remove("trivial")}}(m)),u.appendChild(d)}}function t(e){var n=document.createElement("div"),t=document.createTextNode(e+1);n.setAttribute("id","checker-"+(e+1)),n.appendChild(t),n.className+="empty",m.appendChild(n)}function i(e,n){var t=document.getElementById("checker-"+(e+1));1==n?t.className="correct":0==n&&(t.className="false")}function a(e){!function(){if(!document.getElementById("checker-1"))for(var e=0;e<f.length;e+=1)t(e)}(),function(){for(var e=0;e<f.length;e+=1)i(e,f[e])}()}function r(e){new Audio("assets/sound/"+e+".mp3").play()}var s,c=document.getElementsByClassName("questions")[0],o=document.getElementsByClassName("image")[0],l=document.getElementsByClassName("explanation")[0],u=document.getElementsByClassName("answers")[0],m=document.getElementsByClassName("checker")[0],d=document.getElementsByClassName("total")[0],f=new Array(Object.keys(questions).length);!function(){if(Cookies.get("trivial")){var e=JSON.parse(Cookies.get("trivial"));s=e.curr,f=e.arr}else s=0,f.fill(-1)}(),e(s),n(s),a()};